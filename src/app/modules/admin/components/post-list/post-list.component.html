<p-toast></p-toast>
<p-tabView>
    <p-tabPanel>
        <ng-template pTemplate="header">
            <span>Chờ kiểm duyệt</span>
        </ng-template>
        <div class="grid">
            <div class="col-12">
                <p-table #dt [value]="posts" responsiveLayout="scroll" [rows]="10"
                        [globalFilterFields]="['address', 'createdAt', 'title', 'status']" [paginator]="true"
                        [rowsPerPageOptions]="[10, 20, 30]" [rowHover]="true" dataKey="id">
                        <ng-template pTemplate="caption">
                            <div class="flex flex-column md:flex-row md:justify-content-between md:align-items-center">
                                <h5 class="m-0">Bài đăng đang chờ kiểm duyệt</h5>
                            </div>
                        </ng-template>
                        <ng-template pTemplate="header">
                            <tr>
                                <th pSortableColumn="address">Địa chỉ<p-sortIcon field="address"></p-sortIcon></th>
                                <th pSortableColumn="createdAt">Ngày đăng<p-sortIcon field="createdAt"></p-sortIcon>
                                </th>
                                <th pSortableColumn="title">Tiêu đề<p-sortIcon field="title"></p-sortIcon>
                                </th>
                                <th pSortableColumn="status">Trạng thái<p-sortIcon field="status"></p-sortIcon></th>
                                <th></th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-data>
                            <tr>
                                <td style="width: 25%">{{ data.address }}</td>
                                <td style="width: 15%">{{ data.createdAt | date : 'dd/MM/yyyy' }}</td>
                                <td style="width: 30%">{{ data.title }}</td>

                                <td style="width: 15%" *ngIf="data.status">
                                    <ng-container [ngSwitch]="data.status">
                                        <p-tag *ngSwitchCase="'IN_PROGRESS'" severity="info"
                                            value="Đang chờ duyệt"></p-tag>
                                        <p-tag *ngSwitchCase="'APPROVED'" severity="success"
                                            value="Đã duyệt bài"></p-tag>
                                        <p-tag *ngSwitchCase="'REJECTED'" severity="danger" value="Đã khoá"></p-tag>
                                    </ng-container>
                                </td>
                                <td style="width: 15%" *ngIf="!data.status">

                                </td>
                                <td>
                                    <ng-container *ngIf="data.id">
                                        <div class="flex align-items-center" style="position: relative">
                                            <p-menu appendTo="body" (onShow)="onShowMenu(data)" #menu [model]="items"
                                                [popup]="true"></p-menu>
                                            <button pButton type="button" pTooltip="Tác vụ" tooltipPosition="top"
                                                class="p-button-rounded" (click)="toggleMenu(menu, $event)"
                                                icon="pi pi-bars"></button>
                                        </div>
                                    </ng-container>
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
            </div>
        </div>
    </p-tabPanel>
    <p-tabPanel>
        <ng-template pTemplate="header">
            <span>Đã duyệt</span>
        </ng-template>
    </p-tabPanel>
    <p-tabPanel>
        <ng-template pTemplate="header">
            <span>Đã khoá</span>
        </ng-template>
    </p-tabPanel>
    <p-tabPanel>
        <ng-template pTemplate="header">
            <span>Tất cả</span>
        </ng-template>
    </p-tabPanel>
</p-tabView>